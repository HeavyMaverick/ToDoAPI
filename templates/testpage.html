{{template "base" .}}

{{define "header"}}
<header>
    <h1><i class="fas fa-tasks"></i> {{.title}}</h1>
    <nav>
        <a href="/">Home</a>
        <a href="/testpage">Test Page</a>
        <a href="/api/v1/tasks">API</a>
    </nav>
</header>
{{end}}

{{define "main"}}
<section class="tasks-section">
    <h2>Tasks List</h2>
    {{if .allTasks}}
    <div class="tasks-container">
        {{range .allTasks}}
        <div class="task-card {{if .Completed}}completed{{end}}">
            <h3>{{.Title}}</h3>
            <p>{{.Description}}</p>
            <div class="task-meta">
                <span class="task-id">#{{.ID}}</span>
                <span class="task-date">{{.CreatedAt.Format "2006-01-02"}}</span>
                <span class="task-status">
                    {{if .Completed}}
                    <i class="fas fa-check-circle"></i> Completed
                    {{else}}
                    <i class="fas fa-clock"></i> Pending
                    {{end}}
                </span>
            </div>
        </div>
        {{end}}
    </div>
    {{else}}
    <p class="no-tasks">No tasks found. Create your first task!</p>
    {{end}}
</section>
{{end}}

{{define "footer"}}
<footer>
    <p>ToDo API v1.0.0 &copy; 2026</p>
</footer>
{{end}}